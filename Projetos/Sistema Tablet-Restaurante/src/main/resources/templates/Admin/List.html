<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <title>Lista de Produtos</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-gray-50">
    <div class="container mx-auto px-4 py-8">
      <div class="flex justify-between items-center mb-8">
        <h1 class="text-3xl font-bold text-gray-800">Produtos</h1>
        <div class="flex space-x-4"> <!-- Esta div agrupa os botões -->
          <a
                  th:href="@{/produto}"
                  class="bg-gray-500 hover:bg-gray-600 text-white font-medium py-2 px-4 rounded-lg transition duration-200"
          >
            Cadastrar Novo
          </a>
          <a
                  th:href="@{/usuario/login}"
                  class="bg-red-500 hover:bg-red-600 text-white font-medium py-2 px-4 rounded-lg transition duration-200"
          >
            Logout
          </a>
        </div>
      </div>

      <div class="mb-12">
        <h2 class="text-2xl font-semibold text-gray-700 mb-4">
          Produtos Disponíveis
        </h2>

        <div th:each="categoriaEntry : ${ProdutosByStatus.disponiveis}">
          <h3
            class="text-xl font-medium text-gray-600 mt-6 mb-3"
            th:text="${categoriaEntry.key}"
          ></h3>

          <div class="bg-black shadow-md rounded-lg overflow-hidden">
            <table class="min-w-full divide-y divide-black">
              <thead class="bg-black">
                <tr>
                  <th
                    class="px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider"
                  >
                    Nome
                  </th>
                  <th
                    class="px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider"
                  >
                    Descrição
                  </th>
                  <th
                    class="px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider"
                  >
                    Preço
                  </th>
                  <th
                    class="px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider"
                  >
                    Imagem
                  </th>
                  <th
                    class="px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider"
                  >
                    Ações
                  </th>
                </tr>
              </thead>
              <tbody class="bg-gray-400 divide-y divide-gray-200">
              <tr th:each="p : ${categoriaEntry.value}" class="hover:bg-gray-500">
                <!-- Nome (mantém em uma linha) -->
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"
                    th:text="${p.nome}"></td>

                <!-- Descrição (com quebra de linha) -->
                <td class="px-6 py-4 text-sm text-black break-words max-w-xs">
                  <div class="whitespace-normal" th:text="${p.descricao}"></div>
                </td>

                <!-- Preço (mantém em uma linha) -->
                <td class="px-6 py-4 whitespace-nowrap text-sm text-black"
                    th:text="${p.preco}"></td>

                <!-- Imagem -->
                <td class="px-6 py-4 whitespace-nowrap">
                  <img th:src="${p.imagemUrl}" width="100" th:alt="${p.nome}"
                       class="rounded-md object-cover h-16 w-16"/>
                </td>

                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                  <a th:href="@{/produto/editar/{id}(id=${p.id})}"
                     class="px-3 py-1 bg-red-600 hover:bg-red-700 text-white rounded-md shadow-sm transition-colors">
                    Editar
                  </a>
                </td>
              </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <div>
        <h2 class="text-2xl font-semibold text-gray-700 mb-4">
          Produtos Indisponíveis
        </h2>

        <div th:each="categoriaEntry : ${ProdutosByStatus.indisponiveis}">
          <h3
            class="text-xl font-medium text-gray-600 mt-6 mb-3"
            th:text="${categoriaEntry.key}"
          ></h3>

          <div class="bg-black shadow-md rounded-lg overflow-hidden">
            <table class="min-w-full divide-y divide-black">
              <thead class="bg-black">
              <tr>
                <th
                        class="px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider"
                >
                  Nome
                </th>
                <th
                        class="px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider"
                >
                  Descrição
                </th>
                <th
                        class="px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider"
                >
                  Preço
                </th>
                <th
                        class="px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider"
                >
                  Imagem
                </th>
                <th
                        class="px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider"
                >
                  Ações
                </th>
              </tr>
              </thead>
              <tbody class="bg-gray-400 divide-y divide-gray-200">
              <tr th:each="p : ${categoriaEntry.value}" class="hover:bg-gray-500">
                <!-- Nome (mantém em uma linha) -->
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"
                    th:text="${p.nome}"></td>

                <!-- Descrição (com quebra de linha) -->
                <td class="px-6 py-4 text-sm text-black break-words max-w-xs">
                  <div class="whitespace-normal" th:text="${p.descricao}"></div>
                </td>

                <!-- Preço (mantém em uma linha) -->
                <td class="px-6 py-4 whitespace-nowrap text-sm text-black"
                    th:text="${p.preco}"></td>

                <!-- Imagem -->
                <td class="px-6 py-4 whitespace-nowrap">
                  <img th:src="${p.imagemUrl}" width="100" th:alt="${p.nome}"
                       class="rounded-md object-cover h-16 w-16"/>
                </td>

                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                  <a th:href="@{/produto/editar/{id}(id=${p.id})}"
                     class="px-3 py-1 bg-red-600 hover:bg-red-700 text-white rounded-md shadow-sm transition-colors">
                    Editar
                  </a>
                </td>
              </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
